<div class="container mt-4">
  <div class="mb-4">
    <h2 class="mb-2">
      <i class="bi bi-grid me-2"></i>Catalogue Produits
    </h2>
    <p class="text-muted">
      Parcourez notre sélection et ajoutez à votre panier
    </p>
  </div>

  <!-- Filtres -->
  <app-product-filters></app-product-filters>

  <!-- Liste produits -->
  <div class="row g-3 mb-4 mt-1">
    <div class="col-md-4 col-lg-4" *ngFor="let product of paginatedProducts">
      <app-product-card
        [product]="product"
        [isInCart]="isInCart(product.id)"
        (addToCart)="addToCart($event)"
      ></app-product-card>
    </div>
  </div>

  <!-- Message vide -->
  <div *ngIf="paginatedProducts.length === 0" class="text-center py-5">
    <i class="bi bi-search display-4 text-muted mb-3"></i>
    <h4>Aucun produit</h4>
    <p>Modifiez vos critères de recherche</p>
  </div>

  <!-- Pagination -->
  <div *ngIf="totalPages > 1" class="d-flex justify-content-center mt-4">
    <nav>
      <ul class="pagination">
        <li class="page-item" [class.disabled]="currentPage === 1">
          <button class="page-link" (click)="prevPage()">
            <i class="bi bi-chevron-left"></i>
          </button>
        </li>

        <li class="page-item" *ngFor="let page of getPageNumbers()"
            [class.active]="page === currentPage">
          <button class="page-link" (click)="goToPage(page)">
            {{ page }}
          </button>
        </li>

        <li class="page-item" [class.disabled]="currentPage === totalPages">
          <button class="page-link" (click)="nextPage()">
            <i class="bi bi-chevron-right"></i>
          </button>
        </li>
      </ul>

      <div class="text-center text-muted small mt-2">
        Page {{ currentPage }} sur {{ totalPages }}
      </div>
    </nav>
  </div>
</div>
