 <div class="row mb-4">
      <div class="col-12">
        <h1 class="display-6 mb-3">
          <i class="bi bi-grid me-2"></i>Catalogue Produits
        </h1>
        <p class="text-muted">Parcourez notre sélection de produits et ajoutez-les à votre panier.</p>
      </div>
    </div>

    <!-- Filtres -->
    <app-product-filters></app-product-filters>

    <!-- Liste des produits -->
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4 mb-5">
      <div class="col" *ngFor="let product of paginatedProducts$ | async">
        <app-product-card
          [product]="product"
          [isInCart]="isProductInCart(product.id)"
          (addToCart)="addProductToCart($event)"
        ></app-product-card>
      </div>
    </div>

    <!-- Message si aucun produit -->
    <div *ngIf="(paginatedProducts$ | async)?.length === 0" class="text-center py-5">
      <i class="bi bi-search display-1 text-muted mb-3"></i>
      <h3>Aucun produit trouvé</h3>
      <p class="text-muted">Essayez de modifier vos critères de recherche.</p>
    </div>

    <!-- Pagination -->
    <div class="row" *ngIf="((totalPages$ | async) ?? 0) > 1">
      <div class="col-12">
        <nav aria-label="Pagination navigation">
          <ul class="pagination justify-content-center">
            <li class="page-item" [class.disabled]="(currentPage$ | async) === 1">
              <button class="page-link" (click)="previousPage()">
                <i class="bi bi-chevron-left"></i> Précédent
              </button>
            </li>

            <li class="page-item" *ngFor="let page of getPageNumbers()"
                [class.active]="page === (currentPage$ | async)">
              <button class="page-link" (click)="goToPage(page)">
                {{ page }}
              </button>
            </li>

            <li class="page-item" [class.disabled]="(currentPage$ | async) === (totalPages$ | async)">
              <button class="page-link" (click)="nextPage()">
                Suivant <i class="bi bi-chevron-right"></i>
              </button>
            </li>
          </ul>
        </nav>

        <div class="text-center text-muted small mt-2">
          Page {{ currentPage$ | async }} sur {{ totalPages$ | async }}
        </div>
      </div>
    </div>
